(function(e){function t(t){for(var n,i,u=t[0],c=t[1],s=t[2],d=0,p=[];d<u.length;d++)i=u[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(p.length)p.shift()();return r.push.apply(r,s||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],n=!0,u=1;u<o.length;u++){var c=o[u];0!==a[c]&&(n=!1)}n&&(r.splice(t--,1),e=i(i.s=o[0]))}return e}var n={},a={app:0},r=[];function i(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=n,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var l=c;r.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"17ee":function(e,t,o){"use strict";o("bfbf")},"51a0":function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("7a23"),a={class:"contanier"};function r(e,t,o,r,i,u){var c=Object(n["j"])("audio-player");return Object(n["h"])(),Object(n["b"])("div",a,[Object(n["e"])(c)])}o("b680");var i={class:"player"},u={class:"player-data"},c=Object(n["d"])("serverPosition "),s=["textContent"],l={class:"progress"},d=["value","max"];function p(e,t,o,a,r,p){return Object(n["h"])(),Object(n["b"])("div",i,[Object(n["c"])("div",u,[Object(n["c"])("p",null,"loaded:"+Object(n["k"])(e.loaded),1),Object(n["c"])("p",null,"duration:"+Object(n["k"])(e.duration),1),Object(n["c"])("p",null,"position:"+Object(n["k"])(e.position),1),Object(n["c"])("p",null,"focused:"+Object(n["k"])(e.focused),1),Object(n["c"])("label",null,[c,Object(n["n"])(Object(n["c"])("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.serverPosition=t})},null,512),[[n["l"],e.serverPosition,void 0,{number:!0}]])]),Object(n["c"])("label",null,[Object(n["d"])("currentTrackIndex "+Object(n["k"])(e.currentTrackIndex)+" / "+Object(n["k"])(e.trackList.length-1),1),Object(n["n"])(Object(n["c"])("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.currentTrackIndex=t})},null,512),[[n["l"],e.currentTrackIndex,void 0,{number:!0}]])])]),Object(n["c"])("button",{onClick:t[2]||(t[2]=function(){return p.playToggle&&p.playToggle.apply(p,arguments)}),textContent:Object(n["k"])(e.played?"pause":"play")},null,8,s),Object(n["c"])("div",l,[Object(n["c"])("div",{class:"progress_loaded-position",style:Object(n["g"])({width:(e.loaded/e.duration*100).toFixed(2)+"%"})},null,4),Object(n["c"])("div",{class:"progress_current-position",style:Object(n["g"])({width:(e.position/e.duration*100).toFixed(2)+"%"})},null,4),Object(n["c"])("input",{class:"progress_input",type:"range",value:e.position,max:e.duration,onChange:t[3]||(t[3]=function(){return p.jump&&p.jump.apply(p,arguments)}),onInput:t[4]||(t[4]=function(){return p.jump&&p.jump.apply(p,arguments)}),onBlur:t[5]||(t[5]=function(t){return e.focused=!1})},null,40,d)])])}o("0f28");var y=window.ya,f={data:function(){return{audioPlayer:{},trackList:["https://cachev2-spb02.cdn.yandex.net/download.cdn.yandex.net/tech/ru/audio/jsapi/doc/examples/files/audio_src/Tchaikovsky1.mp3?lid=21","https://cachev2-spb02.cdn.yandex.net/download.cdn.yandex.net/tech/ru/audio/jsapi/doc/examples/files/audio_src/Tchaikovsky2.mp3?lid=21","https://cachev2-spb02.cdn.yandex.net/download.cdn.yandex.net/tech/ru/audio/jsapi/doc/examples/files/audio_src/Tchaikovsky3.mp3?lid=21"],currentTrackIndex:0,played:!1,loaded:0,position:0,duration:0,focused:!1,serverPosition:300}},methods:{updateProgress:function(e){var t=e.duration,o=e.loaded,n=e.position;this.duration=t,this.focused||(this.position=n),this.loaded=o},jump:function(e){"input"===e.type&&(this.focused=!0,this.position=e.target.value),"change"===e.type&&(this.focused=!1,this.audioPlayer.setPosition(e.target.value))},playToggle:function(){var e=this;this.played=!this.played;var t=this.trackList[this.currentTrackIndex];if(console.log("playToggle   audioPlayer.getState()"),console.log(this.audioPlayer.getState()),"playing"!==this.audioPlayer.getState()){if("paused"!==this.audioPlayer.getState())return this.audioPlayer.getLoaded(!0)>this.serverPosition?(console.log("play preloaded"),this.audioPlayer.playPreloaded(t),this.audioPlayer.pause(),this.audioPlayer.setPosition(this.serverPosition),void this.audioPlayer.resume()):void this.audioPlayer.play(t).then((function(){console.log("this.audioPlayer.play(track)"),console.log(e.audioPlayer.getDuration()),e.audioPlayer.pause(),e.audioPlayer.setPosition(e.serverPosition),e.audioPlayer.resume()}));this.audioPlayer.resume()}else this.audioPlayer.pause()}},mounted:function(){var e=this;this.audioPlayer=new window.ya.music.Audio,this.audioPlayer.initPromise().then((function(){console.log("Аудио-плеер готов к работе"),e.audioPlayer.preload(e.trackList[e.currentTrackIndex]).then((function(){console.log("start  preload"),console.log(e.audioPlayer.getLoaded(!0))})),e.audioPlayer.on(y.music.Audio.EVENT_PROGRESS,e.updateProgress),e.audioPlayer.on(y.music.Audio.EVENT_LOADED,console.log("EVENT_LOADED"))}),(function(){console.error("Не удалось инициализировать аудио-плеер")}))}},b=(o("95f0"),o("6b0d")),h=o.n(b);const j=h()(f,[["render",p]]);var v=j,g={components:{audioPlayer:v}};o("17ee");const O=h()(g,[["render",r]]);var P=O,m=o("5502"),k=Object(m["a"])({state:{},getters:{},mutations:{},actions:{},modules:{}});Object(n["a"])(P).use(k).mount("#app")},"95f0":function(e,t,o){"use strict";o("51a0")},bfbf:function(e,t,o){}});
//# sourceMappingURL=app.826f2f72.js.map